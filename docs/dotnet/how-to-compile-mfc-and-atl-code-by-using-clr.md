---
title: '방법: -Clr을 사용 하 여 MFC 및 ATL 코드 컴파일'
ms.custom: get-started-article
ms.date: 11/04/2016
helpviewer_keywords:
- MFC [C++], interoperability
- ATL [C++], interoperability
- mixed assemblies [C++], MFC code
- mixed assemblies [C++], ATL code
- /clr compiler option [C++], compiling ATL and MFC code
- interoperability [C++], /clr compiler option
- regular MFC DLLs [C++], /clr compiler option
- interop [C++], /clr compiler option
- extension DLLs [C++], /clr compiler option
ms.assetid: 12464bec-33a4-482c-880a-c078de7f6ea5
ms.openlocfilehash: 9a24e82787eb0fce8ff668843e73de9f2d05e1ad
ms.sourcegitcommit: dedd4c3cb28adec3793329018b9163ffddf890a4
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/11/2019
ms.locfileid: "57751611"
---
# <a name="how-to-compile-mfc-and-atl-code-by-using-clr"></a>방법: MFC 및 ATL 코드 사용 하 여 /clr 컴파일

이 항목에서는 공용 언어 런타임을 대상으로 기존 MFC 및 ATL 프로그램을 컴파일하는 방법을 설명 합니다.

### <a name="to-compile-an-mfc-executable-or-regular-mfc-dll-by-using-clr"></a>/Clr을 사용 하 여 MFC 실행 파일 또는 일반 MFC DLL을 컴파일하는 데

1. 프로젝트를 마우스 오른쪽 단추로 클릭 **솔루션 탐색기** 을 클릭 한 다음 **속성**합니다.

1. 에 **프로젝트 속성** 대화 상자에 다음 노드를 확장 합니다 **구성 속성** 선택한 **일반**합니다. 오른쪽 창에서 아래 **프로젝트 기본값**설정 **공용 언어 런타임 지원을** 하 **공용 언어 런타임 지원 (/ clr)** 합니다.

   동일한 창에서 했는지 **MFC 사용** 로 설정 된 **공유 DLL에서 MFC 사용**합니다.

1. 아래 **구성 속성**, 노드 옆에 확장 **C/c + +** 선택한 **일반**합니다. 했는지 **디버그 정보 형식** 로 설정 된 **프로그램 데이터베이스 /Zi** (되지 **/ZI**).

1. 선택 된 **코드 생성** 노드. 설정 **최소 다시 빌드 가능** 하 **없음 (/ Gm-)** 합니다. 설정할 수도 **기본 런타임 검사** 하 **기본**입니다.

1. 아래 **구성 속성**를 선택 **C/c + +** 차례로 **코드 생성**합니다. 했는지 **런타임 라이브러리** 로 설정 되어 **다중 스레드 디버그 DLL (/ MDd)** 하거나 **다중 스레드 DLL (/ MD)** 합니다.

1. Stdafx.h에서 다음 줄을 추가 합니다.

    ```
    #using <System.Windows.Forms.dll>
    ```

### <a name="to-compile-an-mfc-extension-dll-by-using-clr"></a>/Clr을 사용 하 여 MFC 확장 DLL을 컴파일하는 데

1. 컴파일하려면"MFC 실행 파일 또는 일반 MFC DLL /clr을 사용 하 여"의 단계를 수행 합니다.

1. 아래 **구성 속성**, 노드 옆에 확장 **C/c + +** 선택한 **미리 컴파일된 헤더**합니다. 설정할 **미리 컴파일된 헤더 만들기/사용** 하 **미리 컴파일된 헤더를 사용 하지 않는**합니다.

   대신에 **솔루션 탐색기**Stdafx.cpp 마우스 오른쪽 단추로 클릭 한 다음 클릭 **속성**합니다. 아래 **구성 속성**, 노드 옆에 확장 **C/c + +** 선택한 **일반**합니다. 설정 **공용 언어 런타임 지원을 사용 하 여 컴파일합니다** 하 **공용 언어 런타임 지원 안 함**합니다.

1. DllMain과 포함 된 파일에 대 한 호출에서 **솔루션 탐색기**파일을 마우스 오른쪽 단추로 클릭 한 다음 클릭 **속성**합니다. 아래 **구성 속성**, 노드 옆에 확장 **C/c + +** 선택한 **일반**합니다. 오른쪽 창에서 아래 **프로젝트 기본값**설정 **공용 언어 런타임 지원을 사용 하 여 컴파일** 하 **공용 언어 런타임 지원 안 함**합니다.

### <a name="to-compile-an-atl-executable-by-using-clr"></a>/Clr을 사용 하 여 ATL 실행 파일을 컴파일하려면

1. **솔루션 탐색기**프로젝트를 마우스 오른쪽 단추로 클릭 하 고 클릭 **속성**합니다.

1. 에 **프로젝트 속성** 대화 상자에 다음 노드를 확장 합니다 **구성 속성** 선택한 **일반**합니다. 오른쪽 창에서 아래 **프로젝트 기본값**설정 **공용 언어 런타임 지원을** 하 **공용 언어 런타임 지원 (/ clr)** 합니다.

1. 아래 **구성 속성**, 노드 옆에 확장 **C/c + +** 선택한 **일반**합니다. 했는지 **디버그 정보 형식** 로 설정 된 **프로그램 데이터베이스 /Zi** (되지 **/ZI**).

1. 선택 된 **코드 생성** 노드. 설정 **최소 다시 빌드 가능** 하 **없음 (/ Gm-)** 합니다. 설정할 수도 **기본 런타임 검사** 하 **기본**입니다.

1. 아래 **구성 속성**를 선택 **C/c + +** 차례로 **코드 생성**합니다. 했는지 **런타임 라이브러리** 로 설정 되어 **다중 스레드 디버그 DLL (/ MDd)** 하거나 **다중 스레드 DLL (/ MD)** 합니다.

1. 에 있는 모든 있으므로 MIDL 생성 파일 (C 파일)에서 파일을 마우스 오른쪽 단추로 클릭 **솔루션 탐색기** 을 클릭 한 다음 **속성**합니다. 아래 **구성 속성**, 노드 옆에 확장 **C/c + +** 선택한 **일반**합니다. 설정 **공용 언어 런타임 지원을 사용 하 여 컴파일합니다** 하 **공용 언어 런타임 지원 안 함**합니다.

### <a name="to-compile-an-atl-dll-by-using-clr"></a>/Clr을 사용 하 여 ATL DLL을 컴파일하는 데

1. /Clr을 사용 하 여 ATL 실행 파일을 컴파일 "을" 섹션의 단계를 수행 합니다.

1. 아래 **구성 속성**, 노드 옆에 확장 **C/c + +** 선택한 **미리 컴파일된 헤더**합니다. 설정할 **미리 컴파일된 헤더 만들기/사용** 하 **미리 컴파일된 헤더를 사용 하지 않는**합니다.

   대신에 **솔루션 탐색기**Stdafx.cpp 마우스 오른쪽 단추로 클릭 한 다음 클릭 **속성**합니다. 아래 **구성 속성**, 노드 옆에 확장 **C/c + +** 선택한 **일반**합니다. 설정 **공용 언어 런타임 지원을 사용 하 여 컴파일합니다** 하 **공용 언어 런타임 지원 안 함**합니다.

1. DllMain과 포함 된 파일에 대 한 호출에서 **솔루션 탐색기**파일을 마우스 오른쪽 단추로 클릭 한 다음 클릭 **속성**합니다. 아래 **구성 속성**, 노드 옆에 확장 **C/c + +** 선택한 **일반**합니다. 오른쪽 창에서 아래 **프로젝트 기본값**설정 **공용 언어 런타임 지원을 사용 하 여 컴파일** 하 **공용 언어 런타임 지원 안 함**합니다.

## <a name="see-also"></a>참고자료

[혼합형(네이티브 및 관리) 어셈블리](../dotnet/mixed-native-and-managed-assemblies.md)
